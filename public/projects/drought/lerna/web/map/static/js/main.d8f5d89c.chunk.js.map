{"version":3,"sources":["../external \"React\"","../external \"ReactDOM\"","../../src/isMobile.js","../../src/parseJSON.js","../../src/setIf.js","../../src/setIfElse.js","../../../libs/react/core/src/serviceWorker.js","../../../libs/redux.toolkit/dist/redux.toolkit.modern.js","store.js","reducers/index.js","../../src/index.js","../../../libs/react/layout/dist/react.layout.es.js","../../../libs/geo/src/getFeatureInfoUrl.js","../../../libs/geo/src/getWMSLayers.js","../../../libs/geo/src/getWMSLayer.js","../../../libs/geo/src/posToGeoJSON.js","../../src/TileWMSLayer.js","../../../libs/redux.leaflet/dist/redux-leaflet.modern.js","../../src/Select.js","../../src/Input.js","../../src/Field.js","../../src/useFetch.js","contexts/store/index.js","components/Badge.js","components/Legend.js","FormMain.js","MapContent.js","components/Timeline/index.js","App.js","index.js","../external \"L\""],"names":["module","exports","React","ReactDOM","isMobile","window","parseJSON","json","reviver","key","value","regrex1","regrex2","regrex3","Function","err","console","jsStr","js","eval","get","isUndefined","JSON","setIf","data","condition","path","set","setIfElse","v1","v2","isLocalhost","Boolean","location","hostname","match","register","config","navigator","URL","process","href","origin","addEventListener","swUrl","fetch","headers","then","response","contentType","status","indexOf","serviceWorker","ready","registration","unregister","reload","registerValidSW","catch","log","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","error","message","createReducer","asyncReducers","combineReducers","store","initialState","history","middleware","asyncR1","router","connectRouter","reduxSagaMonitorOptions","sagaMiddleware","createSagaMiddleware","getDefaultMiddleware","loadingBarMiddleware","promiseTypeSuffixes","push","routerMiddleware","configureStore$1","reducer","preloadedState","runSaga","run","injectedSagas","injectedReducers","asyncR2","configureStore","createBrowserHistory","flex","props","row","column","inline","block","floatRight","floatLeft","wrap","grow","shrink","bold","regular","uppercase","relative","absolute","itemsCenter","contentCenter","contentBetween","selfCenter","justifyCenter","pv","ph","mv","mh","textXs","textSm","textBase","textLg","textXl","text2Xl","text3Xl","text4Xl","text5Xl","text6Xl","cursor","outline","style","children","outter","inner","clone","isBoolean","assignIf","pt","pb","mt","mb","pl","pr","ml","mr","defaultV","assign","Box","height","width","undefined","memo","defaultProps","title","self","appName","logo","header","background","PUBLIC_URL","menu","aside","footer","LayoutMap","bg_url","sidebarWidth","jsx","ViewPort","className","Top","as","size","Slot","name","content","Fill","LeftResizable","RightResizable","BottomResizable","LayoutDefault","Brand","src","alt","color","fontSize","fontWeight","hello","index","index$1","minimumSize","maximumSize","Bottom","index$2","Object","freeze","__proto__","Default","Map","FileManager","getFeatureInfoUrl","layer","latlng","params","map","_map","url","_url","point","latLngToContainerPoint","getZoom","getSize","bounds","getBounds","toBBoxString","wmsParams","defaultParams","request","service","srs","transparent","styles","version","env","viewparams","format","options","bbox","y","x","layers","query_layers","info_format","Util","extend","keys","forEach","round","getParamString","getWMSLayers","getWMSLayer","posToGeoJSON","getOptions","TileWMSLayer","initialize","TileLayer","this","uniqid","SingleTileWMSLayer","L","tileWMSLayer","tiled","google","openstreet","terrain","hybrid","EVENTS_RE","WMSTileLayer","boundary","leaflet","fromProps","toProps","preUuid","uuid","prevUrl","prevProps","opacity","zIndex","prevParams","leafletElement","setUrl","isEqual","setParams","superOptions","reduce","test","GridLayer","propTypes","PropTypes","string","isRequired","WMSTileLayer$1","withLeaflet","BaseLayer","LayersControl","Overlay","overlays","MapContainer","loaded","createElement","center","zoom","position","k","active","_active","checked","_active2","MapContainer$1","_defineProperty","obj","defineProperty","enumerable","configurable","writable","Control","Legend","includes","Evented","prototype","Mixin","Events","legends","detectStretched","collapsed","label","onAdd","container","DomUtil","create","_container","DomEvent","disableClickPropagation","Browser","touch","disableScrollPropagation","render","empty","link","innerHTML","on","stop","expand","collapse","android","list","legend","items","visible","length","type","closedClass","hasClass","removeClass","addClass","elementContainer","element","_addElement","appendChild","imageData","imageUrl","html","imgbox","backgroundImage","backgroundSize","colorbox","backgroundColor","v","control","css","ref","insertAt","document","head","getElementsByTagName","firstChild","insertBefore","styleSheet","cssText","createTextNode","styleInject","LegendControl","MapControl","transOpts","opts","isArray","useState","setData","dropProps","omit","depends","ajaxSettings","placeholder","useFormContext","useEffect","el","$","loadingText","emptyMsg","useUrl","Form","defaultValue","selected","useRef","getData","a","transformResponse","axios","isJSON","result","isString","isFunction","useFetch","manual","useQuery","loading","caseReducer","payload","layersIndex","isInteger","results","symbology","isEmpty","folders","years","find","action","StoreContext","createContext","StoreProvider","useImmerReducer","dispatch","Provider","popup","Wrapper","BaseBadge","blue","Badge","useContext","l","dsp","methods","useForm","initialData","isNil","val","p","id","onChange","e","target","parseInt","folder","maxHeight","r","moment","date","htmlFor","Slider","min","step","max","legendRef","useLeaflet","pop","setPop","showInfo","lat","lng","eachLayer","_wmsVersion","infoUrl","http","toFixed","parseFloat","off","useMapClick","current","removeControl","addTo","stringify","fitBounds","Popup","Status","over","BtnNav","formatSlides","Timeline","swiper","slidesPerView","grabCursor","mousewheel","getSwiper","slideChange","useImmer","slides","updateSides","dates","_","chain","sort","setSlide","onClick","slidePrev","s","cx","slideNext","MobileDetect","userAgent","mobile","compose","hot","setLoaded","sbW","setSbW","Layout","LAYOUT","previous","useWindowSize","configLayout","setTimeout","slot","Nav","Link","getElementById"],"mappings":"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","file":"static/js/main.d8f5d89c.chunk.js","sourcesContent":["module.exports = React;","module.exports = ReactDOM;","import MobileDetect from 'mobile-detect'\r\n\r\nfunction isMobile() {\r\n    return (new MobileDetect(window.navigator.userAgent)).mobile()\r\n}\r\n\r\nexport default isMobile","import { get, isUndefined } from 'lodash-es'\r\n\r\nfunction parseJSON(json) {\r\n    const reviver = (key, value) => {\r\n        if (value && typeof value === \"string\") {\r\n            let regrex1 = /^\\s*function\\s*[\\d\\w]*\\s*\\([\\d\\w,\\s]*[^,]\\)\\s*{[\\s\\S]*}\\s*;?\\s*/, // function(){};\r\n                regrex2 = /^\\s*\\([a-zA-Z0-1,\\s]*[^,]\\)\\s*(=>)\\s*{[\\s\\S]*}\\s*;?\\s*$/, // () => {};\r\n                regrex3 = /^\\s*```js([\\s\\S]*)```\\s*$/  // ```js new Object() ```\r\n\r\n            if ((regrex1.test(value) || regrex2.test(value))) {\r\n                // let startBody = value.indexOf('{') + 1;\r\n                // let endBody = value.lastIndexOf('}');\r\n                // let startArgs = value.indexOf('(') + 1;\r\n                // let endArgs = value.indexOf(')');\r\n                // return new Function(value.substring(startArgs, endArgs), value.substring(startBody, endBody));\r\n                try {\r\n                    return new Function(`return ${value}`)()\r\n                }\r\n                catch (err) {\r\n                    console.error(`Error string function in JSON: ${value}`)\r\n                }\r\n            } else if (regrex3.test(value)) {\r\n                try {\r\n                    let jsStr = regrex3.exec(value),\r\n                        js = eval(get(jsStr, 1))\r\n                    return isUndefined(js) ? null : js\r\n                }\r\n                catch (err) {\r\n                    console.error(`Error JS in JSON: ${value} \\n`, err)\r\n                }\r\n            }\r\n\r\n        }\r\n        return value;\r\n    }\r\n\r\n\r\n    return JSON.parse(json, reviver)\r\n}\r\n\r\nexport default parseJSON","import {set} from 'lodash-es'\r\n\r\nfunction setIf(data, condition, path, value) {\r\n    if (condition) set(data, path, value)\r\n}\r\n\r\nexport default setIf","import {set} from 'lodash-es'\r\n\r\nfunction setIfElse(data, condition, v1, v2) {\r\n    if(condition){\r\n        set(data, path, v1)\r\n    } else {\r\n        set(data, path, v2)\r\n    }\r\n}\r\n\r\nexport default setIfElse","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { connectRouter, routerMiddleware } from 'connected-react-router';\nexport { ConnectedRouter, connectRouter, routerMiddleware } from 'connected-react-router';\nexport { Provider, connect, useDispatch, useSelector } from 'react-redux';\nexport { lazy, default as loadable } from '@loadable/component';\nexport { default as createSelector } from 'selectorator';\nexport { BrowserRouter, HashRouter, Link, NavLink, withRouter } from 'react-router-dom';\nexport { Prompt, Redirect, Router, Switch, matchPath, useHistory, useLocation, useParams, useRouteMatch } from 'react-router';\nimport { combineReducers } from 'redux';\nexport { applyMiddleware } from 'redux';\nimport { getDefaultMiddleware, configureStore as configureStore$1 } from '@reduxjs/toolkit';\nexport { bindActionCreators, combineReducers, compose, configureStore as configureDefaultStore, createAction, createReducer, createSlice, createStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport { includes, keys, isString, isPlainObject, isFunction } from 'lodash-es';\nimport { createContext, useContext, createElement, useCallback } from 'react';\nimport { useImmerReducer, useImmer } from 'use-immer';\nimport { loadingBarMiddleware } from 'react-redux-loading-bar';\nimport createSagaMiddleware from 'redux-saga';\nexport { LastLocationProvider, RedirectWithoutLastLocation, useLastLocation, withLastLocation } from 'react-router-last-location';\n\nvar createCaseReducer = (actionsMap => (state, action) => includes(keys(actionsMap), action.type) ? actionsMap[action.type](state, action.payload) : undefined);\n\nvar NO_PROVIDER = \"_NP_\";\n\nfunction createUseContext(context) {\n  return function () {\n    var value = useContext(context);\n\n    return value;\n  };\n}\n\nfunction constate(useValue) {\n  for (var _len = arguments.length, splitValues = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    splitValues[_key - 1] = arguments[_key];\n  }\n\n  var Context = createContext(NO_PROVIDER);\n\n  var Provider = function Provider(props) {\n    var value = useValue(props);\n    return createElement(Context.Provider, {\n      value: value\n    }, props.children);\n  };\n\n\n  var useContext = function useContext() {\n\n    return createUseContext(Context)();\n  }; // const { Context, Provider } = constate(...)\n\n\n  Object.defineProperties(useContext, {\n    Context: {\n      get: function get() {\n        return Context;\n      }\n    },\n    Provider: {\n      get: function get() {\n        return Provider;\n      }\n    }\n  });\n  var tuple = [];\n\n  if (!splitValues.length) {\n    // const [Provider, useCounterContext] = constate(...);\n    tuple.push(Provider, createUseContext(Context));\n  } else {\n    var contexts = [];\n\n    var SplitProvider = function SplitProvider(props) {\n      var value = useValue(props);\n      var children = props.children;\n\n      for (var i = 0; i < contexts.length; i += 1) {\n        var context = contexts[i]; // splitValue may be a hook, but it won't change between re-renders\n\n        var splitValue = splitValues[i];\n        children = createElement(context.Provider, {\n          value: splitValue(value)\n        }, children);\n      }\n\n      return children;\n    };\n\n\n    tuple.push(SplitProvider);\n\n    for (var i = 0; i < splitValues.length; i += 1) {\n      var context = createContext(NO_PROVIDER);\n      contexts.push(context);\n      tuple.push(createUseContext(context));\n    }\n  }\n\n  for (var _i = 0; _i < tuple.length; _i += 1) {\n    useContext[_i] = tuple[_i];\n  }\n\n  if (typeof Symbol === \"function\" && Symbol.iterator) {\n    useContext[Symbol.iterator] =\n    /* istanbul ignore next */\n    function () {\n      return tuple[Symbol.iterator]();\n    };\n  }\n\n  return useContext;\n}\n\nfunction createContextStore(initialState, reducer = null) {\n  const [Provider, useStore] = constate(() => {\n    const [state, dispatch] = reducer ? useImmerReducer(reducer, initialState) : useImmer(initialState);\n    const customDispatch = useCallback((...args) => {\n      let [arg1, arg2] = args;\n      if (isString(arg1)) dispatch({\n        type: arg1,\n        payload: arg2\n      });\n      if (isPlainObject(arg1) && arg1.type) dispatch(arg1);\n      if (isFunction(arg1)) arg1(dispatch, state);\n    }, []);\n    return Object.assign([state, customDispatch], {\n      state,\n      dispatch: customDispatch\n    });\n  });\n\n  function useSelector(selector) {\n    const [state] = useStore();\n    return selector(state);\n  }\n\n  function useDispatch() {\n    const [, dispatch] = useStore();\n    return dispatch;\n  }\n\n  function useContext() {\n    const [state] = useStore();\n    return state;\n  }\n\n  return {\n    Provider,\n    useStore,\n    useSelector,\n    useDispatch,\n    useContext\n  };\n}\n\nconst createReducer = (asyncReducers = {}, history) => combineReducers({ ...asyncReducers\n});\n\nfunction configureStore(initialState = {}, asyncReducers = {}, history) {\n  let middleware = [],\n      asyncR1 = {\n    router: connectRouter(history),\n    ...asyncReducers\n  };\n  const reduxSagaMonitorOptions = {};\n  const sagaMiddleware = createSagaMiddleware(reduxSagaMonitorOptions);\n  middleware = [...getDefaultMiddleware(), sagaMiddleware, loadingBarMiddleware({\n    promiseTypeSuffixes: ['REQUEST', 'SUCCESS', 'FAILURE']\n  })];\n  if (history) middleware.push(routerMiddleware(history));\n  const store = configureStore$1({\n    reducer: createReducer(asyncR1),\n    preloadedState: initialState,\n    middleware\n  }); // Extensions\n\n  store.runSaga = sagaMiddleware.run;\n  store.injectedSagas = {}; // Saga registry\n\n  store.injectedReducers = {}; // Reducer registry\n\n  store.createReducer = asyncR2 => createReducer({ ...asyncR1,\n    ...asyncR2\n  }); // // Make reducers hot reloadable\n  // if (\"production\" === 'development' && module.hot) {\n  //     module.hot.accept('./reducers', () => {\n  //         const newRootReducer = createReducer(store.injectedReducers)\n  //         store.replaceReducer(newRootReducer)\n  //     })\n  // }\n\n\n  return store;\n}\n\nexport { configureStore, createCaseReducer, createContextStore };\n","import {createBrowserHistory} from 'history'\r\nimport {configureStore} from \"@ttungbmt/redux.toolkit\";\r\n\r\nimport reducers from \"./reducers\"\r\n\r\nexport const history = createBrowserHistory()\r\n\r\nconst store = configureStore({}, reducers, history)\r\n\r\nif (process.env.NODE_ENV === 'development' && module.hot) {\r\n    module.hot.accept('./reducers', () => {\r\n        const newRootReducer = store.createReducer(reducers)\r\n        store.replaceReducer(newRootReducer)\r\n    })\r\n}\r\n\r\nexport default store","\r\nexport default {\r\n\r\n}","import React, { memo } from 'react'\r\nimport BaseBox from '@material-ui/core/Box';\r\nimport { set, isBoolean, assign, clone } from 'lodash-es'\r\n\r\n\r\n/**\r\n * @render react\r\n * @name Box\r\n * Palette: color, bgcolor\r\n * Media: xs, sm, md\r\n * Border: border, borderTop, borderRight, borderBottom, borderLeft, borderColor, borderRadius\r\n * Display: component, display, overflow, textOverflow, visibility, whiteSpace\r\n * Flexbox: flexDirection, flexWrap, justifyContent, alignItems, alignContent, order, flex, flexGrow, flexShrink, alignSelf\r\n * Position: position, zIndex, top, right, bottom, left\r\n * Size: width, maxWidth, minWidth, height, maxHeight, minHeight, boxSizing,\r\n * Spacing: m, mt, mr, mb, ml, mx, my, p, pt, pr, pb, pl, px, py,\r\n * Typography: fontFamily, fontSize, fontStyle, fontWeight, letterSpacing, lineHeight, textAlign,\r\n * @example\r\n * <Box>Accept</Tippy>\r\n */\r\n\r\nfunction Box(props) {\r\n    const {\r\n        flex, row, column, inline, block, floatRight, floatLeft, wrap, grow, shrink, bold, regular, uppercase, relative, absolute,\r\n        itemsCenter, contentCenter, contentBetween, selfCenter, justifyCenter, pv, ph, mv, mh,\r\n        textXs, textSm, textBase, textLg, textXl, text2Xl, text3Xl, text4Xl, text5Xl, text6Xl,\r\n        cursor, outline,\r\n        style,\r\n        children,\r\n        ...outter\r\n    } = props\r\n\r\n    let inner = {\r\n        style: clone(style)\r\n    }\r\n\r\n    setIf(inner, textXs, 'fontSize', '.75rem')\r\n    setIf(inner, textSm, 'fontSize', '.875rem')\r\n    setIf(inner, textBase, 'fontSize', '1rem')\r\n    setIf(inner, textLg, 'fontSize', '1.125rem')\r\n    setIf(inner, textXl, 'fontSize', '1.25rem')\r\n    setIf(inner, text2Xl, 'fontSize', '1.5rem')\r\n    setIf(inner, text3Xl, 'fontSize', '1.875rem')\r\n    setIf(inner, text4Xl, 'fontSize', '2.25rem')\r\n    setIf(inner, text5Xl, 'fontSize', '3rem')\r\n    setIf(inner, text6Xl, 'fontSize', '4rem')\r\n    setIf(inner, flex, 'display', 'flex')\r\n    setIf(inner, itemsCenter, 'alignItems', 'center')\r\n    setIf(inner, contentCenter, 'justifyContent', 'center')\r\n    setIf(inner, contentBetween, 'justifyContent', 'space-between')\r\n    setIf(inner, selfCenter, 'alignSelf', 'center')\r\n    setIf(inner, justifyCenter, 'justifyContent', 'center')\r\n    setIf(inner, inline, 'display', 'display')\r\n    setIf(inner, block, 'display', 'block')\r\n    setIf(inner, row, 'flexDirection', 'row')\r\n    setIf(inner, column, 'flexDirection', 'column')\r\n    setIf(inner, wrap, 'flexWrap', 'wrap')\r\n    setIf(inner, shrink, 'flexShrink', isBoolean(shrink) ? 1 : shrink)\r\n    setIf(inner, grow, 'flexGrow', isBoolean(grow) ? 1 : grow)\r\n    setIf(inner, bold, 'fontWeight', 500)\r\n    setIf(inner, uppercase, 'style.textTransform', 'uppercase')\r\n    setIf(inner, regular, 'fontWeight', 'fontWeightRegular')\r\n    setIf(inner, relative, 'position', 'relative')\r\n    setIf(inner, absolute, 'position', 'absolute')\r\n    setIf(inner, floatRight, 'style.float', 'right')\r\n    setIf(inner, floatLeft, 'style.float', 'left')\r\n    setIf(inner, cursor, 'style.cursor', 'pointer')\r\n    setIf(inner, outline, 'style.outline', outline)\r\n    setIf(inner, outline, 'style.outline', outline)\r\n\r\n\r\n    assignIf(inner, pv, {pt: pv, pb: pv})\r\n    assignIf(inner, mv, {mt: mv, mb: mv})\r\n    assignIf(inner, ph, {pl: ph, pr: ph})\r\n    assignIf(inner, mh, {ml: mh, mr: mh})\r\n\r\n    return (\r\n        <BaseBox {...inner} {...outter}>\r\n            {children}\r\n        </BaseBox>\r\n    )\r\n}\r\n\r\nconst setIf = (data, condition, path, value, defaultV) => {\r\n    if (condition) {\r\n        set(data, path, value)\r\n    }\r\n    // else {\r\n    //     !isUndefined(defaultV) && set(data, path, defaultV)\r\n    // }\r\n}\r\n\r\nconst assignIf = (data, condition, value) => {\r\n    if (condition) data = assign(data, value)\r\n}\r\n\r\n\r\nBox.defaultProps = {\r\n    style: {},\r\n    height: undefined,\r\n    width: undefined,\r\n}\r\n\r\nexport default memo(Box)","import { memo } from 'react';\nimport { ViewPort, Top, Fill, LeftResizable, RightResizable, BottomResizable, Bottom } from 'react-spaces';\nimport { Slot } from 'react-slot';\nimport { get } from 'lodash-es';\nimport Box from '@ttungbmt/react.ui.box';\nimport { jsx } from '@emotion/core';\n\nconst {\n  PUBLIC_URL\n} = process.env;\nconst config = {\n  title: 'Layout Map',\n  self: {\n    appName: 'Name',\n    logo: ''\n  },\n  header: {\n    self: {\n      background: PUBLIC_URL + '/assets/images/bg_header.png'\n    },\n    menu: {}\n  },\n  aside: {\n    self: {\n      width: 380\n    }\n  },\n  footer: {\n    self: {}\n  }\n};\n\nconst defaultProps = {\n  config\n};\nconst LayoutMap = memo(({\n  children,\n  config\n}) => {\n  let bg_url = get(config, 'header.self.background');\n  let sidebarWidth = get(config, 'aside.self.width', 380);\n  return jsx(ViewPort, {\n    className: \"layout-map\"\n  }, jsx(Top, {\n    as: \"header\",\n    size: 55,\n    style: {\n      background: `url(${bg_url})`\n    }\n  }, jsx(Slot, {\n    name: \"header\",\n    as: \"header\",\n    content: children\n  })), jsx(Fill, {\n    as: \"main\"\n  }, jsx(Slot, {\n    content: children\n  }, jsx(LeftResizable, {\n    as: \"aside\",\n    size: sidebarWidth\n  }, jsx(Slot, {\n    name: \"left-sidebar\",\n    content: children\n  })), jsx(Fill, null, jsx(Top, {\n    size: 0\n  }, jsx(Slot, {\n    name: \"map-toolbar\",\n    content: children\n  })), jsx(Fill, null, jsx(Slot, {\n    name: \"map-content\",\n    content: children\n  }))), jsx(RightResizable, {\n    as: \"aside\",\n    size: 0\n  }, jsx(Slot, {\n    name: \"right-sidebar\",\n    content: children\n  })))), jsx(BottomResizable, {\n    as: \"footer\",\n    size: 0\n  }, jsx(Slot, {\n    name: \"footer\",\n    content: children\n  })));\n});\n\nfunction Brand({\n  logo,\n  title\n}) {\n  return jsx(Box, {\n    flex: true,\n    height: 1,\n    itemsCenter: true\n  }, logo && jsx(Box, {\n    mh: 1\n  }, jsx(\"img\", {\n    src: logo,\n    alt: \"\",\n    style: {\n      height: 30\n    }\n  })), jsx(Box, {\n    ml: 2,\n    uppercase: true,\n    color: \"#0093dd\",\n    fontSize: 21,\n    fontWeight: 700\n  }, title));\n}\n\nLayoutMap.defaultProps = defaultProps;\nLayoutMap.Brand = memo(Brand);\n\nfunction LayoutDefault({\n  children\n}) {\n  return jsx(ViewPort, {\n    className: \"layout-default\"\n  }, jsx(Top, {\n    as: \"header\",\n    size: 55\n  }, jsx(Slot, {\n    name: \"header\",\n    as: \"header\",\n    content: children\n  })), jsx(Fill, {\n    as: \"main\"\n  }, jsx(Slot, {\n    content: children\n  })), jsx(BottomResizable, {\n    as: \"footer\",\n    size: 100\n  }, jsx(Slot, {\n    name: \"footer\",\n    content: children\n  })));\n}\n\nLayoutDefault.config = {\n  hello: '123'\n};\nvar index = memo(LayoutDefault);\n\nfunction LayoutFileManager({\n  children\n}) {\n  return jsx(ViewPort, {\n    className: \"layout-file-manager\"\n  }, jsx(LeftResizable, {\n    as: \"header\",\n    size: 256,\n    minimumSize: 180,\n    maximumSize: 450\n  }, jsx(Slot, {\n    name: \"sidebar\",\n    content: children\n  }, jsx(Top, {\n    size: 40\n  }, jsx(Slot, {\n    name: \"actions\",\n    content: children,\n    className: \"h-full\"\n  })), jsx(Fill, null, jsx(Slot, {\n    name: \"sidebar-content\",\n    content: children\n  })), jsx(Bottom, {\n    size: 100\n  }, jsx(Slot, {\n    name: \"info\",\n    content: children\n  })))), jsx(Fill, {\n    as: \"main\"\n  }, jsx(Top, {\n    size: 40\n  }, jsx(Slot, {\n    name: \"breadcrumb\",\n    content: children,\n    className: \"h-full\"\n  })), jsx(Fill, null, jsx(Fill, null, jsx(Slot, {\n    name: \"main\",\n    content: children\n  })), jsx(RightResizable, {\n    size: 320,\n    minimumSize: 270,\n    maximumSize: 350\n  }, jsx(Slot, {\n    name: \"detail\",\n    content: children,\n    className: \"h-full\"\n  })))));\n}\n\nvar index$1 = memo(LayoutFileManager);\n\n\n\nvar index$2 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    Default: index,\n    Map: LayoutMap,\n    FileManager: index$1\n});\n\nexport { index$2 as Layout };\n","import {round} from 'lodash-es'\r\nimport {Util} from 'leaflet'\r\n\r\nfunction getFeatureInfoUrl(layer, latlng, params) {\r\n    const map = layer._map;\r\n    const url = layer._url;\r\n\r\n    let point = map.latLngToContainerPoint(latlng, map.getZoom()),\r\n        size = map.getSize(),\r\n        bounds = map.getBounds().toBBoxString(),\r\n        wmsParams = layer.wmsParams;\r\n\r\n    // var sw = bounds.getSouthWest(),\r\n    //     ne = bounds.getNorthEast(),\r\n    //     sw = crs.projection._proj.forward([sw.lng, sw.lat]),\r\n    //     ne = crs.projection._proj.forward([ne.lng, ne.lat]),\r\n    //     bbox = [sw.join(','), ne.join(',')].join(',');\r\n\r\n    let defaultParams = {\r\n        request: 'GetFeatureInfo',\r\n        service: 'WMS',\r\n        srs: 'EPSG:4326', //layer._crs.code,\r\n        transparent: wmsParams.transparent,\r\n        styles: wmsParams.styles,\r\n        version: wmsParams.version, //layer._wmsVersion,\r\n        env: wmsParams.env,\r\n        viewparams: wmsParams.viewparams,\r\n        format: layer.options.format,\r\n        bbox: bounds,\r\n        height: size.y,\r\n        width: size.x,\r\n        layers: layer.options.layers,\r\n        query_layers: layer.options.layers,\r\n        info_format: 'application/json'\r\n    };\r\n\r\n    params = Util.extend(defaultParams, params || {});\r\n    // Remove undefined field from object\r\n    Object.keys(params).forEach(key => params[key] === undefined ? delete params[key] : '');\r\n\r\n    params[params.version === '1.3.0' ? 'i' : 'x'] = round(point.x); // Fix WMS X and Y incorrectly specified\r\n    params[params.version === '1.3.0' ? 'j' : 'y'] = round(point.y);\r\n\r\n    return url + Util.getParamString(params, url, true);\r\n}\r\n\r\nexport default getFeatureInfoUrl","import L from 'leaflet'\r\n\r\nfunction getWMSLayers(map) {\r\n    let layer = []\r\n\r\n    map.eachLayer(l => {\r\n        if(l instanceof L.TileLayer.WMS) layer.push(l)\r\n    })\r\n\r\n    let timestamp = (new Date()).getTime(),\r\n        layerOrdered = [];\r\n\r\n    Object.keys(layer).sort().forEach(function(key) {\r\n        layerOrdered[key] = layer[key];\r\n        layerOrdered[key]._timestamp = timestamp\r\n    });\r\n    return layerOrdered\r\n}\r\n\r\nexport default getWMSLayers","import getWMSLayers from './getWMSLayers'\r\nimport { find } from 'lodash-es'\r\n\r\nfunction getWMSLayer(map, predicate) {\r\n    return find(getWMSLayers(map), predicate)\r\n}\r\n\r\nexport default getWMSLayer","import L from 'leaflet'\r\n\r\nfunction posToGeoJSON(position) {\r\n    return L.marker(position).toGeoJSON()\r\n}\r\n\r\nexport default posToGeoJSON","import L, { TileLayer } from 'leaflet'\r\nimport 'leaflet.nontiledlayer'\r\nimport { getFeatureInfoUrl } from '@ttungbmt/geo'\r\nimport uniqid from 'uniqid'\r\n\r\nconst getOptions = ({uuid, ...options}) => ({\r\n    format: 'image/png',\r\n    transparent: true,\r\n    ...options\r\n})\r\n\r\nexport const TileWMSLayer = TileLayer.WMS.extend({\r\n    initialize: function(url, options = {}) {\r\n        TileLayer.WMS.prototype.initialize.call(this, url, this.getOptions(options))\r\n        this.uuid = options.uuid ? options.uuid : uniqid()\r\n\r\n    },\r\n\r\n    getOptions,\r\n\r\n    getFeatureInfoUrl: function (latlng, params) {\r\n        return getFeatureInfoUrl(this, latlng, params)\r\n    }\r\n})\r\n\r\nexport const SingleTileWMSLayer = L.NonTiledLayer.WMS.extend({\r\n    initialize: function(url, options = {}) {\r\n        L.NonTiledLayer.WMS.prototype.initialize.call(this, url, this.getOptions(options))\r\n        this.uuid = options.uuid ? options.uuid : uniqid()\r\n    },\r\n\r\n    getOptions,\r\n\r\n    getFeatureInfoUrl: function (latlng, params) {\r\n        return getFeatureInfoUrl(this, latlng, params)\r\n    }\r\n})\r\n\r\nL.tileWMSLayer = tileWMSLayer\r\n\r\nexport function tileWMSLayer(url, {tiled, ...options}) {\r\n    return tiled ? new SingleTileWMSLayer (url, options) : new TileWMSLayer(url, options);\r\n}\r\n\r\n","import L, { control } from 'leaflet';\nimport React, { memo } from 'react';\nimport { isEqual, map } from 'lodash-es';\nimport { withLeaflet, GridLayer, Map, LayersControl, TileLayer, MapControl } from 'react-leaflet';\nexport { Popup, useLeaflet } from 'react-leaflet';\nimport { tileWMSLayer } from '@ttungbmt/leaflet.wms';\nimport PropTypes from 'prop-types';\n\nvar layers = {\n  google: {\n    \"control\": \"basemap\",\n    \"title\": \"Google\",\n    \"active\": true,\n    \"type\": \"tile\",\n    \"options\": {\n      \"url\": \"http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}\",\n      \"subdomains\": [\"mt0\", \"mt1\", \"mt2\", \"mt3\"],\n      \"attribution\": \"Map data &copy; <a href='https://www.google.com/maps'>Google Maps</a>\"\n    }\n  },\n  openstreet: {\n    \"control\": \"basemap\",\n    \"title\": \"OpenStreetMap\",\n    \"type\": \"tile\",\n    \"options\": {\n      \"url\": \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n      \"attribution\": \"&copy; <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\n    }\n  },\n  terrain: {\n    \"control\": \"basemap\",\n    \"title\": \"Địa hình\",\n    \"type\": \"tile\",\n    \"options\": {\n      \"url\": \"http://{s}.google.com/vt/lyrs=p&x={x}&y={y}&z={z}\",\n      \"subdomains\": [\"mt0\", \"mt1\", \"mt2\", \"mt3\"],\n      \"attribution\": \"Map data &copy; <a href='https://www.google.com/maps'>Google Maps</a>\"\n    }\n  },\n  hybrid: {\n    \"control\": \"basemap\",\n    \"title\": \"Tổng hợp\",\n    \"type\": \"tile\",\n    \"options\": {\n      \"url\": \"http://{s}.google.com/vt/lyrs=y&x={x}&y={y}&z={z}\",\n      \"subdomains\": [\"mt0\", \"mt1\", \"mt2\", \"mt3\"],\n      \"attribution\": \"Map data &copy; <a href='https://www.google.com/maps'>Google Maps</a>\"\n    }\n  }\n};\n\nconst EVENTS_RE = /^on(.+)$/i;\n\nclass WMSTileLayer extends GridLayer {\n  createLeafletElement(props) {\n    const {\n      url,\n      boundary,\n      ...params\n    } = props;\n    const {\n      leaflet: _l,\n      ...options\n    } = this.getOptions(params);\n    return tileWMSLayer(url, options);\n  }\n\n  updateLeafletElement(fromProps, toProps) {\n    super.updateLeafletElement(fromProps, toProps);\n    const {\n      uuid: preUuid,\n      url: prevUrl,\n      opacity: _po,\n      zIndex: _pz,\n      ...prevProps\n    } = fromProps;\n    const {\n      leaflet: _pl,\n      ...prevParams\n    } = this.getOptions(prevProps);\n    const {\n      uuid,\n      url,\n      opacity: _o,\n      zIndex: _z,\n      ...props\n    } = toProps;\n    const {\n      leaflet: _l,\n      ...params\n    } = this.getOptions(props);\n\n    if (uuid !== preUuid) {\n      this.leafletElement.uuid = uuid;\n    }\n\n    if (url !== prevUrl) {\n      this.leafletElement.setUrl(url);\n    }\n\n    if (!isEqual(params, prevParams)) {\n      this.leafletElement.setParams(params);\n    }\n  }\n\n  getOptions(params) {\n    const superOptions = super.getOptions(params);\n    return Object.keys(superOptions).reduce((options, key) => {\n      if (!EVENTS_RE.test(key)) {\n        options[key] = superOptions[key];\n      }\n\n      return options;\n    }, {});\n  }\n\n}\n\nWMSTileLayer.propTypes = {\n  layers: PropTypes.string.isRequired\n};\nvar WMSTileLayer$1 = withLeaflet(WMSTileLayer);\n\nconst {\n  BaseLayer,\n  Overlay\n} = LayersControl;\nconst overlays = [{\n  \"title\": \"Ranh tỉnh\",\n  \"type\": \"wms\",\n  \"options\": {\n    \"url\": \"/geoserver/ows?\",\n    \"layers\": \"drought:hc_tinh\",\n    \"tiled\": true\n  }\n}, {\n  \"title\": \"Ranh quận\",\n  \"type\": \"wms\",\n  \"options\": {\n    \"url\": \"/geoserver/ows?\",\n    \"layers\": \"drought:dm_quan_vn\",\n    \"tiled\": false\n  }\n}, {\n  \"title\": \"Ranh phường\",\n  \"type\": \"wms\",\n  \"options\": {\n    \"url\": \"/geoserver/ows?\",\n    \"layers\": \"drought:dm_phuong_vn\",\n    \"tiled\": false\n  }\n}];\n\nfunction MapContainer({\n  children,\n  loaded\n}) {\n  const position = [16.3109371, 103.8910913];\n  if (!loaded) return null;\n  return /*#__PURE__*/React.createElement(Map, {\n    center: position,\n    zoom: 6,\n    style: {\n      width: '100%',\n      height: '100%'\n    }\n  }, /*#__PURE__*/React.createElement(LayersControl, {\n    position: \"topright\"\n  }, map(layers, ({\n    title,\n    active: _active = false,\n    options\n  }, k) => /*#__PURE__*/React.createElement(BaseLayer, {\n    key: k,\n    checked: _active,\n    name: title\n  }, /*#__PURE__*/React.createElement(TileLayer, options))), map(overlays, ({\n    title,\n    active: _active2 = false,\n    options\n  }, k) => /*#__PURE__*/React.createElement(Overlay, {\n    key: k,\n    checked: _active2,\n    name: title\n  }, /*#__PURE__*/React.createElement(WMSTileLayer$1, options)))), children);\n}\n\nMapContainer.defaultProps = {\n  loaded: true\n};\nvar MapContainer$1 = memo(MapContainer);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nL.Control.Legend = L.Control.extend({\n  _map: null,\n  includes: L.Evented ? L.Evented.prototype : L.Mixin.Events,\n  options: {\n    position: 'topright',\n    legends: [],\n    // array of legend entries - see README for format\n    detectStretched: false,\n    // if true, will test to see if legend entries look stretched.  These are usually in sets of 3 with the middle element having no label.\n    collapsed: true,\n    label: 'Legend'\n  },\n  onAdd: function (map) {\n    this._map = map;\n    let container = L.DomUtil.create('div', 'leaflet-control leaflet-legend');\n    this._container = container; // Disable events on container\n\n    L.DomEvent.disableClickPropagation(container);\n\n    if (!L.Browser.touch) {\n      L.DomEvent.disableScrollPropagation(container);\n    }\n\n    this.render();\n    return this._container;\n  },\n  // render this.options.entries\n  render: function () {\n    L.DomUtil.empty(this._container);\n    let legends = this.options.legends,\n        collapsed = this.options.collapsed,\n        className = 'leaflet-legend';\n    if (!legends) return;\n    let link = L.DomUtil.create('a', className + '-toggle', this._container);\n    link.href = '#';\n    link.title = 'legend';\n    link.innerHTML = this.options.label;\n\n    if (L.Browser.touch) {\n      L.DomEvent.on(link, 'click', L.DomEvent.stop);\n      L.DomEvent.on(link, 'click', this.expand, this);\n    } else {\n      L.DomEvent.on(link, 'focus', this.expand, this);\n    }\n\n    if (collapsed) {\n      this._map.on('click', this.collapse, this);\n\n      if (!L.Browser.android) {\n        L.DomEvent.on(this._container, {\n          'mouseover': this.expand,\n          'mouseout': this.collapse\n        }, this);\n      }\n    }\n\n    let list = L.DomUtil.create('div', className + '-list');\n    legends.forEach(function (legend) {\n      let items = legend.items;\n      if (legend.visible === false) return null;\n      className = 'legend-block';\n\n      if (this.options.detectStretched) {\n        if (items && items.length === 3 && items[0].label !== '' && items[1].label === '' && items[2].label !== '') {\n          legend.type = 'stretched';\n        }\n      }\n\n      if (legend.type === 'stretched') {\n        className += ' legend-stretched';\n      }\n\n      let block = L.DomUtil.create('div', className, list);\n\n      if (!items) {\n        this._addElement(legend, block);\n\n        return;\n      }\n\n      if (legend.label) {\n        let closedClass = legend.collapsed === true ? 'closed' : '';\n        let header = L.DomUtil.create('h4', closedClass, block);\n        L.DomUtil.create('div', 'caret', header);\n        L.DomUtil.create('span', null, header).innerHTML = legend.label;\n        L.DomEvent.on(header, 'click', function () {\n          if (L.DomUtil.hasClass(header, 'closed')) {\n            L.DomUtil.removeClass(header, 'closed');\n          } else {\n            L.DomUtil.addClass(header, 'closed');\n          }\n        }, this);\n      }\n\n      let elementContainer = L.DomUtil.create('div', 'legend-items', block);\n      items.forEach(function (element) {\n        if (element.visible === false) return null;\n\n        this._addElement(element, elementContainer);\n      }, this);\n    }, this);\n\n    if (!collapsed) {\n      this.expand();\n    }\n\n    this._container.appendChild(list);\n  },\n  _addElement: function (legend, container) {\n    const {\n      label,\n      imageData,\n      imageUrl,\n      color,\n      style,\n      html\n    } = legend;\n    let row = L.DomUtil.create('div', 'legend-row', container);\n\n    if (imageData) {\n      L.DomUtil.create('img', null, row).src = imageData;\n    } else if (imageUrl) {\n      let imgbox = L.DomUtil.create('div', 'leaflet-legend-image-url', row);\n      imgbox.style.backgroundImage = `url(${imageUrl})`;\n      imgbox.style.backgroundSize = '20px';\n    } else if (color) {\n      let colorbox = L.DomUtil.create('div', 'leaflet-legend-color', row);\n      colorbox.style.backgroundColor = color;\n      map(style, (v, k) => colorbox.style[k] = v);\n    } else if (html) {\n      L.DomUtil.create('div', 'leaflet-legend-html', row).innerHTML = html;\n    }\n\n    if (!!label) {\n      L.DomUtil.create('label', null, row).innerHTML = label;\n    }\n  },\n  expand: function () {\n    L.DomUtil.addClass(this._container, 'leaflet-legend-expanded');\n    return this;\n  },\n  collapse: function () {\n    L.DomUtil.removeClass(this._container, 'leaflet-legend-expanded');\n    return this;\n  }\n});\n\nL.control.legend = function (options) {\n  return new L.Control.Legend(options);\n};\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".leaflet-legend {\\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.4);\\n  background: #fff;\\n  border-radius: 5px;\\n}\\n.leaflet-legend::-webkit-scrollbar {\\n  -webkit-appearance: none;\\n  width: 7px;\\n}\\n.leaflet-legend::-webkit-scrollbar:hover {\\n  background-color: rgba(170, 170, 170, 0.19);\\n}\\n.leaflet-legend::-webkit-scrollbar-thumb {\\n  border-radius: 4px;\\n  background-color: rgba(170, 170, 170, 0.54);\\n}\\n.leaflet-legend::-webkit-scrollbar-thumb:hover {\\n  background-color: #b1b1b1;\\n}\\n.leaflet-legend h4 {\\n  margin: 0 0 4px 0;\\n  cursor: pointer;\\n  font-size: 12px;\\n  font-weight: 700;\\n}\\n.leaflet-legend h4:hover {\\n  background: #F6F6F6;\\n}\\n.leaflet-legend h4 span {\\n  margin-left: 21px;\\n  color: #333;\\n}\\n.leaflet-legend img {\\n  margin-right: 6px;\\n  display: inline;\\n  vertical-align: middle;\\n}\\n.leaflet-legend .leaflet-legend-color, .leaflet-legend .leaflet-legend-image-url, .leaflet-legend .leaflet-legend-html {\\n  width: 20px;\\n  height: 20px;\\n  margin-right: 6px;\\n  display: inline-block;\\n  vertical-align: middle;\\n  background-repeat: no-repeat;\\n}\\n.leaflet-legend label {\\n  max-width: 200px;\\n  display: inline-block;\\n  vertical-align: middle;\\n  word-wrap: break-word;\\n  color: #555;\\n  margin-bottom: 0;\\n}\\n.leaflet-legend .caret {\\n  position: relative;\\n  top: 0.5em;\\n  left: 0;\\n  display: inline-block;\\n  vertical-align: top;\\n  margin-left: 5px;\\n}\\n.leaflet-legend .caret:before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  border-top: 0.4em solid #555;\\n  border-left: 0.4em solid transparent;\\n  border-right: 0.4em solid transparent;\\n}\\n\\n.leaflet-legend h4.closed + .legend-items {\\n  display: none;\\n}\\n\\n.leaflet-touch .leaflet-legend {\\n  border: 2px solid rgba(0, 0, 0, 0.2);\\n  background-clip: padding-box;\\n  box-shadow: none;\\n}\\n\\n.legend-block {\\n  margin-right: 7px;\\n  width: 100%;\\n}\\n\\n.legend-block + .legend-block {\\n  margin-top: 8px;\\n  border-top: 1px solid #EEE;\\n  padding-top: 4px;\\n}\\n\\n.legend-row + .legend-row {\\n  margin-top: 8px;\\n}\\n\\n.legend-stretched .legend-row + .legend-row {\\n  margin-top: 0;\\n}\\n\\na.leaflet-legend-toggle {\\n  color: #000 !important;\\n  text-decoration: none;\\n  padding: 6px;\\n}\\na.leaflet-legend-toggle i {\\n  font-size: 30px;\\n  padding: 6px 0;\\n}\\n\\n.leaflet-legend-expanded {\\n  padding: 6px 10px 6px 6px;\\n  color: #333;\\n  background: #fff;\\n  max-height: 250px;\\n  overflow-y: auto;\\n}\\n.leaflet-legend-expanded .leaflet-legend-toggle {\\n  display: none;\\n}\\n.leaflet-legend-expanded .leaflet-legend-list {\\n  display: block;\\n  position: relative;\\n  padding: 0;\\n}\\n\\n.leaflet-legend-list {\\n  display: none;\\n}\";\nstyleInject(css_248z);\n\nlet legends = [{\n  \"label\": \"A simple element\",\n  // \"imageUrl\": \"https://image.flaticon.com/icons/png/512/361/361890.png\"\n  // \"color\": \"red\"\n  \"imageData\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAO5JREFUOI3NlD0OgzAMhd+AIliYsnhHbD4Np+QwnVgjBq4QIeypHarQ0ECBlqFvc5R8evFf1rbtHRcqi4O+7zGO4+bluq4hIhiGIYmZ+QXsug4AYK39CBQR5HmexOE9My8dEhGIaPdbwU1Q0zQQkZdDay2maQIAlGUJY8wuFAC891DVhfMsOAsyxqCqqkNA5xxUdc7p/OU4B78q27/yBTDO4SXAI5U9Bfz/HP6quAaXAOMaXALcnGXgOU7OuUMg731ylgBVFap6yuFqDuMVRkRzvCVmXuzPxT6M++/MxBRFkezP2eF7Ux9p8pX9eXsAPNt0X7NgcsoAAAAASUVORK5CYII=\"\n}, {\n  \"label\": \"A longer legend\",\n  // \"collapsed\": true,\n  // \"visible\": false,\n  \"items\": [{\n    \"imageData\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAHJJREFUOI1jYaAyYIExcnJyGigxaMqUKQ1wA3Nychq0VAXrRYS5yDLs/uNPDDk5OQxTpkxpgLtQRJiLQVNNlGwXPn76mQHuQmqCUQNHDRw1cJgZeP/xJ7INefP2G6qBU6ZMacjJyYEXQeQAlAIWWYBSAABjPiDfvMzQCwAAAABJRU5ErkJggg==\",\n    \"label\": \"Alabama\"\n  }, {\n    \"imageData\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAHFJREFUOI3t1CEOgDAQBMATJSGhjmDw8Lr9A/eI/WGDJCCqqEHRUNtWka66nJisWiOVY94DgJZAJDWCAHSZ7m20IQtzZy8AhKTGhqMNss4+u+F+DRIb1kwDG9jAn4Hu7LORw3cpSFIBxAnKSTKw30dpHoqHIAJwBO9uAAAAAElFTkSuQmCC\",\n    \"label\": \"Wyoming\"\n  }]\n}];\nclass LegendControl extends MapControl {\n  createLeafletElement(props) {\n    return control.legend(props);\n  }\n\n}\n\n_defineProperty(LegendControl, \"propTypes\", {});\n\n_defineProperty(LegendControl, \"defaultProps\", {\n  position: 'bottomleft',\n  label: 'Legend',\n  legends: legends,\n  collapsed: false,\n  detectStretched: true\n});\n\nexport { LegendControl, MapContainer$1 as MapContainer, WMSTileLayer$1 as WMSTileLayer, layers as baselayers };\n","import React, {memo, useEffect, useState} from 'react'\r\nimport { Form } from 'react-bootstrap'\r\nimport { map, get, isArray, omit } from 'lodash-es'\r\nimport {  useFormContext  } from \"react-hook-form\"\r\nimport $ from 'jquery'\r\nimport 'dependent-dropdown'\r\n\r\nconst transOpts = (opts) => {\r\n    if(!opts) return []\r\n    if(isArray(opts)) return opts\r\n\r\n    return map(opts, (v, k) => ({value: k, label: v}))\r\n}\r\n\r\nconst useUrl = ({url, depends, ajaxSettings, placeholder = 'Chọn...', name, path, ...props}, {setData}) => {\r\n    const { control } = useFormContext()\r\n    useEffect(() => {\r\n        if(url){\r\n          if(depends) {\r\n              let el = get(control, `fieldsRef.current.${name}.ref`)\r\n              $(el).depdrop({\r\n                  depends,\r\n                  url,\r\n                  loadingText: 'Đang tải ...',\r\n                  placeholder,\r\n                  emptyMsg: 'Không có dữ liệu',\r\n                  ajaxSettings\r\n              })\r\n          } else {\r\n              $.get(url, (opts) => {\r\n                  setData(transOpts(path ? get(opts, path) : opts))\r\n              })\r\n          }\r\n        }\r\n    }, [])\r\n}\r\n\r\n\r\nfunction Select({register, children, options, ...props}) {\r\n    const [data, setData] = useState(transOpts(options))\r\n    const dropProps = omit(props, ['ajaxSettings'])\r\n    useUrl(props, {setData})\r\n\r\n    useEffect(() => {\r\n        setData(transOpts(options))\r\n    }, [JSON.stringify(options)])\r\n\r\n    return (\r\n        <Form.Control as=\"select\" ref={register} {...dropProps} defaultValue={props.selected}>\r\n            {data.length > 0 && <option value=\"\">{props.placeholder}</option>}\r\n            {children}\r\n            {map(data, ({value, label}, k) => (<option key={k} value={value}>{label}</option>))}\r\n        </Form.Control>\r\n    )\r\n}\r\n\r\nexport default memo(Select)","import React, { memo, useEffect, useRef } from 'react'\r\nimport { Form } from 'react-bootstrap'\r\nimport { get, omit } from 'lodash-es'\r\n// import $ from 'jquery'\r\nimport { useFormContext } from \"react-hook-form\"\r\n// import 'bootstrap-datepicker'\r\n// import 'bootstrap-datepicker/dist/locales/bootstrap-datepicker.vi.min.js'\r\n// import 'bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css'\r\n\r\n// function useDatepicker({as, name}, ref) {\r\n//     const {control, setValue} = useFormContext()\r\n//\r\n//     useEffect(() => {\r\n//         if (as === 'datepicker') {\r\n//             ref.current = get(control, `fields.${name}.ref`)\r\n//             let options = {\r\n//                     format: \"dd/mm/yyyy\",\r\n//                     todayBtn: \"linked\",\r\n//                     clearBtn: true,\r\n//                     language: \"vi\",\r\n//                     autoclose: true,\r\n//                     todayHighlight: true\r\n//                 }\r\n//\r\n//             $(ref.current).datepicker(options).on('changeDate', e => setValue(e.target.value))\r\n//         }\r\n//\r\n//         return () => {\r\n//             if (as === 'datepicker') $(ref.current).datepicker('destroy')\r\n//         }\r\n//     }, [])\r\n//\r\n// }\r\n\r\nfunction Input({register, children, ...props}) {\r\n    let ref = useRef(props)\r\n    // useDatepicker(props, ref)\r\n\r\n    return (\r\n        <Form.Control ref={register} {...omit(props, ['as'])}>\r\n        </Form.Control>\r\n    )\r\n}\r\n\r\nexport default memo(Input)","import React, {memo} from 'react'\r\nimport { Form } from 'react-bootstrap'\r\nimport {  useFormContext  } from 'react-hook-form'\r\n\r\nimport Select from './Select'\r\nimport Input from './Input';\r\n\r\nfunction Field({children, label, as, ...props}) {\r\n    const { register } = useFormContext()\r\n\r\n    let Control = () => <></>\r\n\r\n    switch (as){\r\n        case 'select':\r\n            Control = Select\r\n            break\r\n        case 'datepicker':\r\n        case 'input':\r\n            Control = Input\r\n            break\r\n        default:\r\n            Control = Input\r\n            break\r\n    }\r\n\r\n\r\n    return (\r\n        <Form.Group>\r\n            {label && <Form.Label>{label}</Form.Label>}\r\n            <Control register={register} {...props} as={as}>\r\n                {children}\r\n            </Control>\r\n        </Form.Group>\r\n    )\r\n}\r\n\r\nexport default memo(Field)\r\n","import axios from 'axios'\r\nimport {useQuery} from 'react-query'\r\nimport {get, isString, isFunction} from 'lodash-es'\r\nimport isJSON from 'validator/lib/isJSON'\r\n\r\nconst getData = async (key, {url, transformResponse}) => {\r\n    const { data } = await axios({\r\n        url,\r\n        transformResponse: [function (data) {\r\n            if(isJSON(data)) {\r\n                let result = JSON.parse(data)\r\n\r\n                if(isString(transformResponse)) {\r\n                    return get(result, transformResponse)\r\n                } else if(isFunction(transformResponse)){\r\n                    return transformResponse(result)\r\n                }\r\n\r\n                return result\r\n            }\r\n\r\n            return data\r\n        }]\r\n    })\r\n    return data\r\n}\r\n\r\n\r\n\r\nfunction useFetch(props) {\r\n    const {key, url, transformResponse, initialData, manual = false} = props\r\n\r\n    const {data, status, ...request} = useQuery([key, {url, transformResponse}], getData, { manual })\r\n\r\n    return {\r\n        data,\r\n        loading: !(status === 'success'),\r\n        ...request\r\n    }\r\n}\r\n\r\nexport default useFetch","import React, {memo} from 'react'\r\nimport {createContext} from 'react'\r\nimport {useImmerReducer} from 'use-immer'\r\nimport {includes, keys, isInteger, map, get, isEmpty} from 'lodash-es'\r\n\r\nconst initialState = {\r\n    popup: null,\r\n    layers: null,\r\n    layersIndex: null,\r\n    folders: [],\r\n    years: [],\r\n    bounds: [],\r\n    legends: [],\r\n    results: [],\r\n    opacity: 1\r\n}\r\n\r\nconst caseReducer = {\r\n    ['setLayers']: (state, {payload}) => {\r\n        state.layers = payload\r\n    },\r\n    ['setLayersIndex']: (state, {payload}) => {\r\n        state.layersIndex = payload\r\n        if(isInteger(payload)){\r\n            state.legends = state.results[payload].symbology\r\n        }\r\n    },\r\n    ['resetLayers']: (state, {payload}) => {\r\n        state.layers = null\r\n        state.layersIndex = null\r\n    },\r\n    ['setResults']: (state, {payload}) => {\r\n        state.results = payload\r\n        if(!isEmpty(payload)) state.layersIndex = 0\r\n    },\r\n    ['setBounds']: (state, {payload}) => {\r\n        state.bounds = payload\r\n    },\r\n    ['setOpacity']: (state, {payload}) => {\r\n        state.opacity = payload\r\n    },\r\n    ['setFolders']: (state, {payload}) => {\r\n        state.folders = map(payload, v => ({...v, selected: false}))\r\n    },\r\n    ['selectedYear']: (state, {payload}) => {\r\n        state.years = state.years.map(v => ({...v, selected: payload === v.value}))\r\n        state.results = []\r\n        state.layers = null\r\n        state.layersIndex = null\r\n    },\r\n\r\n    ['selectedFolder']: (state, {payload}) => {\r\n        state.folders = state.folders.map(v => ({...v, selected: payload === v.value}))\r\n        state.years = get(state.folders.find(v => v.selected), 'years', []).map(v => ({label: v, value: v}))\r\n        state.results = []\r\n        state.layers = null\r\n        state.layersIndex = null\r\n        state.legends = []\r\n\r\n    },\r\n}\r\n\r\nconst reducer = (state, action) => includes(keys(caseReducer), action.type) ? caseReducer[action.type](state, action) : state\r\n\r\nconst StoreContext = createContext()\r\n\r\nconst StoreProvider = memo(({initialState, children}) => {\r\n    const [state, dispatch] = useImmerReducer(reducer, initialState)\r\n\r\n    const dispatchfn = (type, payload) => dispatch(({type, payload}))\r\n\r\n    return (\r\n        <StoreContext.Provider value={{...state, dispatch: dispatchfn}}>\r\n            {children}\r\n        </StoreContext.Provider>\r\n    )\r\n})\r\n\r\n\r\nStoreProvider.defaultProps = {initialState}\r\n\r\nexport default StoreContext\r\nexport {StoreProvider}","import React, {memo} from 'react'\r\nimport styled from '@emotion/styled'\r\nimport {Badge as BaseBadge} from 'react-bootstrap'\r\nimport blue from '@material-ui/core/colors/blue';\r\n\r\nconst Wrapper = styled(BaseBadge)`\r\n   background-color: #fafafa;\r\n   font-size: 13px;\r\n   padding: 8px;\r\n   text-transform: uppercase;\r\n   border-left: 2px solid ${blue[500]};\r\n   border-top-left-radius: 0;\r\n   border-bottom-left-radius: 0;\r\n`\r\n\r\nfunction Badge({children, ...props}) {\r\n    return (\r\n        <Wrapper {...props}>\r\n            {children}\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nBadge.defaultProps = {\r\n\r\n}\r\n\r\nexport default memo(Badge)\r\n\r\n","import React, {memo, useContext} from 'react'\r\nimport styled from '@emotion/styled'\r\nimport Box from \"@ttungbmt/react.ui.box\";\r\nimport Badge from \"./Badge\";\r\nimport StoreContext from \"../contexts/store\";\r\nimport {isEmpty} from 'lodash-es'\r\n\r\nconst Wrapper = styled.div`\r\n    .box-color {\r\n        width: 20px;\r\n        height: 20px;\r\n        margin-right: 6px;\r\n        border: 1px solid #c6cad0;\r\n    }\r\n`\r\n\r\nfunction Legend(props) {\r\n    const {layers, bounds, legends, opacity} = useContext(StoreContext)\r\n    if(isEmpty(legends)) return null\r\n\r\n    return (\r\n        <Wrapper>\r\n            <Badge>Chú giải</Badge>\r\n            <div className=\"mt-2\">\r\n                {legends.map((l, k) => (\r\n                    <div key={k} className=\"flex\">\r\n                        <div className=\"box-color\" style={{backgroundColor: l.color}} ></div>\r\n                        <div>{l.legend}</div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\n\r\nexport default memo(Legend)\r\n\r\n","import React, {memo, useState, useContext, useEffect} from 'react'\r\nimport {useForm, Form, Field, FormContext} from '@ttungbmt/react.form'\r\nimport {useFetch} from \"@ttungbmt/react.http\";\r\nimport Box from '@ttungbmt/react.ui.box';\r\nimport {findIndex, get, isEmpty, isNil, find} from 'lodash-es'\r\nimport $ from 'jquery'\r\n\r\nimport StoreContext from \"contexts/store\"\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport Legend from \"./components/Legend\";\r\nimport moment from 'moment'\r\n\r\n\r\n\r\nfunction Badge({title}) {\r\n    return <Box mb={1} className=\"badge badge-light badge-striped badge-striped-left border-left-primary\"\r\n                textSm>{title}</Box>\r\n}\r\n\r\nfunction FormMain() {\r\n    const {dispatch: dsp, results, layersIndex, opacity, years, folders} = useContext(StoreContext)\r\n    const methods = useForm()\r\n\r\n    const handleChange = (e, val) => {\r\n        dsp('setOpacity', val)\r\n    }\r\n\r\n    const {data, loading} = useFetch({\r\n        key: 'todos',\r\n        url: '/api/dm/dm-folder-all',\r\n        initialData: {}\r\n    })\r\n\r\n    const onChangeFolder = e => dsp('selectedFolder', e.target.value)\r\n\r\n    const onXuly = (e) => {\r\n        let value = parseInt(e.target.value),\r\n            folder = get(find(folders, {selected: true}), 'value')\r\n\r\n        dsp('selectedYear', value)\r\n\r\n        $.get(`/api/dm/results?year=${value}&folder=${folder}`, ({data}) => {\r\n            dsp('setResults', data.results)\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!loading) {\r\n            dsp('setFolders', data)\r\n        }\r\n\r\n    }, [loading])\r\n\r\n    useEffect(() => {\r\n        if(!isNil(layersIndex)){\r\n            $('#drop-result').val(get(results, layersIndex+'.value'))\r\n        }\r\n    }, [layersIndex])\r\n\r\n\r\n    if (loading || !data) return null\r\n\r\n    return (\r\n        <Box p={1}>\r\n            <FormContext {...methods}>\r\n                <Form>\r\n                    <div className=\"mt-2\">\r\n                        <Badge title={`Map`}/>\r\n                        <Box>\r\n                            <Field\r\n                                id=\"drop-result\"\r\n                                as=\"select\"\r\n                                name=\"folder\"\r\n                                options={folders || []}\r\n                                placeholder=\"Chọn folder...\"\r\n                                onChange={onChangeFolder}\r\n                                value={get(folders.find(v => v.selected), 'value', '')}\r\n                            />\r\n\r\n                            {!isEmpty(years) && (\r\n                                <Field\r\n                                    id=\"drop-result\"\r\n                                    as=\"select\"\r\n                                    name=\"year\"\r\n                                    options={years || []}\r\n                                    placeholder=\"Chọn năm...\"\r\n                                    onChange={onXuly}\r\n                                    value={get(years.find(v => v.selected), 'value', '')}\r\n                                />\r\n                            )}\r\n\r\n                        </Box>\r\n                    </div>\r\n\r\n                    {!isEmpty(results) && (\r\n                        <div style={{maxHeight: 400}} className=\"overflow-auto mb-2\">\r\n                            <table className=\"table table-bordered table-hover\">\r\n                                <thead>\r\n                                <tr>\r\n                                    <td style={{fontWeight: 'bold'}}>Tên</td>\r\n                                    <td style={{fontWeight: 'bold'}}>Thời gian</td>\r\n                                </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                {results.map((r, k) => (\r\n                                    <tr key={k}>\r\n                                        <td>{r.label}</td>\r\n                                        <td>{moment(r.date).format('DD/MM/YYYY')}</td>\r\n                                    </tr>\r\n                                ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n\r\n                    )}\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"\">Độ trong suốt ({opacity})</label>\r\n                        <div className=\"p-2\">\r\n                            <Slider value={opacity} onChange={handleChange}  defaultValue={1}  min={0} step={0.1} max={1}/>\r\n                        </div>\r\n                    </div>\r\n\r\n                </Form>\r\n            </FormContext>\r\n            <Legend />\r\n        </Box>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default memo(FormMain)\r\n","import React, {memo, useEffect, useState, useContext, useRef} from 'react'\r\nimport {MapContainer, WMSTileLayer, useLeaflet, Popup, LegendControl} from '@ttungbmt/redux-leaflet'\r\nimport {uniqid} from \"@ttungbmt/utils\";\r\nimport {getWMSLayers} from '@ttungbmt/geo'\r\nimport L from \"leaflet\"\r\nimport {http} from '@ttungbmt/react.http'\r\nimport {get, isEmpty, isInteger} from 'lodash-es'\r\nimport StoreContext from \"contexts/store\"\r\nimport Slider from \"@material-ui/core/Slider\";\r\n\r\nfunction useMapClick({setPop}) {\r\n    const {map} = useLeaflet()\r\n\r\n    useEffect(() => {\r\n        const showInfo = ({latlng}) => {\r\n            let info = {\r\n                uuid: uniqid(),\r\n                position: [latlng.lat, latlng.lng],\r\n                items: []\r\n            }\r\n\r\n\r\n            map.eachLayer(l => {\r\n                if (l._wmsVersion) {\r\n                    let infoUrl = l.getFeatureInfoUrl(latlng)\r\n                    setPop(false)\r\n\r\n                    http.get(infoUrl).then(({data}) => {\r\n                        let props = get(data, 'features.0.properties')\r\n                        if(props) setPop({\r\n                            position: [latlng.lat, latlng.lng],\r\n                            content: `Tọa độ: ${latlng.lat.toFixed(5)}, ${latlng.lng.toFixed(5)} - Giá trị: ${isInteger(props.val) ? props.val : parseFloat(props.val).toFixed(4)}`\r\n                        })\r\n\r\n                    })\r\n                }\r\n            })\r\n\r\n        }\r\n\r\n        map.on('click', showInfo)\r\n\r\n        return () => {\r\n            map.off('click', showInfo)\r\n        }\r\n    }, [])\r\n}\r\n\r\n\r\nfunction MapContent() {\r\n    const legendRef = useRef()\r\n    const leaflet = useLeaflet()\r\n    const {layers, bounds, legends, opacity} = useContext(StoreContext)\r\n    const [pop, setPop] = useState()\r\n\r\n    useMapClick({setPop})\r\n\r\n    useEffect(() => {\r\n        if(legendRef.current) leaflet.map.removeControl(legendRef.current)\r\n\r\n        if(!isEmpty(legends)){\r\n            legendRef.current = L.control.legend({\r\n                position: 'topright',\r\n                legends: legends.map(v => ({label: v.legend, color: v.color})),\r\n            }).addTo(leaflet.map)\r\n        }\r\n\r\n    }, [JSON.stringify(legends)])\r\n\r\n    useEffect(() => {\r\n        const map = leaflet.map\r\n        if(!isEmpty(bounds)) map.fitBounds(bounds)\r\n    }, [JSON.stringify(bounds)])\r\n\r\n    return (\r\n        <>\r\n            {pop && (<Popup position={pop.position}>{pop.content}</Popup>)}\r\n            {layers && <WMSTileLayer layers={layers.name} url={'/geoserver/ows?'} transparent={true} format={'image/png'} zIndex={1000} opacity={opacity}/>}\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default memo(MapContent)","import React, {useState, useEffect, useContext} from 'react'\r\nimport {isEmpty, isInteger} from 'lodash-es'\r\nimport Swiper from 'react-id-swiper';\r\nimport 'swiper/css/swiper.css'\r\nimport styled from '@emotion/styled'\r\nimport {useImmer} from 'use-immer'\r\nimport cx from 'clsx'\r\nimport './style.scss'\r\nimport StoreContext from \"../../contexts/store\";\r\nimport moment from 'moment'\r\nimport _ from 'lodash-es'\r\n\r\nconst Status = styled.div`\r\n      margin-top: 28px;\r\n      display: flex;\r\n      justify-content: center;\r\n      border-top: 2px solid ${props => props.over ? '#38acff' : '#dfdfdf'};\r\n      position: relative;\r\n      \r\n      span {\r\n        &:before {\r\n          content: '';\r\n          width: 12px;\r\n          height: 12px;\r\n          border: 2px solid ${props => props.over ? '#38acff' : '#dfdfdf'};\r\n          background-color: ${props => (props.active && props.over) ? '#38acff' : '#f8f8f8'};\r\n          border-radius: 25px;\r\n          position: absolute;\r\n          top: -7px;\r\n          left: 77px;\r\n          z-index: 1000;\r\n          transition: all 200ms ease-in;\r\n          cursor: pointer;\r\n          &:hover {\r\n            background-color: #38acff;\r\n          }\r\n        }\r\n      }\r\n`\r\n\r\n\r\nconst BtnNav = styled.button`\r\n    top: 50%;\r\n    bottom: auto;\r\n    height: 34px;\r\n    width: 34px;\r\n    border-radius: 50%;\r\n    border: 2px solid #dfdfdf;    \r\n    &::after {\r\n        content: '';\r\n        height: 16px;\r\n        width: 16px;\r\n    }\r\n`\r\n\r\nconst Wrapper = styled.div`\r\n    position: absolute;\r\n    bottom: 4px;\r\n    z-index: 10000;\r\n    width: 100%;\r\n    display: flex;\r\n    width: 100%;\r\n    justify-content: center;\r\n    .flex {\r\n        border-radius: 6px;\r\n        padding: 5px 0 5px 0;\r\n        max-width: ${props => props.width}px;\r\n        background: white;\r\n        opacity: 0.8;\r\n    }\r\n`\r\n\r\nconst formatSlides = (data = []) => {\r\n    return data.map(v => ({\r\n        value: v,\r\n        active: false,\r\n        over: false\r\n    }))\r\n}\r\n\r\nfunction Timeline({width = 700}) {\r\n    const {dispatch: dsp, results, layersIndex} = useContext(StoreContext)\r\n    const [swiper, setSwiper] = useState(null);\r\n    const params = {\r\n        // autoplay: {\r\n        //     delay: 2000,\r\n        // },\r\n        width: 250,\r\n        // initialSlide: 2,\r\n        slidesPerView: 3,\r\n        // slidesPerGroup: 3,\r\n        grabCursor: true,\r\n        mousewheel: true,\r\n        getSwiper: setSwiper,\r\n        on: {\r\n            slideChange(a) {\r\n                console.log(a);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    const goNext = () => {\r\n        if (swiper !== null) swiper.slideNext()\r\n    }\r\n\r\n    const goPrev = () => {\r\n        if (swiper !== null) swiper.slidePrev()\r\n    }\r\n\r\n    const goTo = (index, speed = 100) => {\r\n        if (swiper !== null) swiper.slideTo(index - 1, speed)\r\n    }\r\n\r\n    const [slides, updateSides] = useImmer(formatSlides());\r\n\r\n\r\n    useEffect(() => {\r\n        if(!isEmpty(results)){\r\n            let dates = _.chain(results).map(v => moment(v.date).format('X')).sort().map(v => 'T'+moment(v, 'X').format('M')).value()\r\n            updateSides(state => formatSlides(dates))\r\n        }\r\n    }, [JSON.stringify(results)])\r\n\r\n\r\n    const setSlide = (index) => {\r\n        updateSides(state => {\r\n            state.map((v, k) => {\r\n                if (k === index) {\r\n                    v.active = true\r\n                    v.over = true\r\n                } else if (k < index) {\r\n                    v.active = false\r\n                    v.over = true\r\n                } else {\r\n                    v.active = false\r\n                    v.over = false\r\n                }\r\n\r\n            })\r\n        })\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if(isInteger(layersIndex)){\r\n            dsp('setLayers', {name: results[layersIndex].layers})\r\n        } else {\r\n            dsp('resetLayers')\r\n        }\r\n\r\n        setSlide(layersIndex)\r\n\r\n    }, [layersIndex])\r\n\r\n    const onClick = (index) => {\r\n        dsp('setLayersIndex', index)\r\n        setSlide(index)\r\n    }\r\n\r\n    return (\r\n        <Wrapper width={width}>\r\n            {!isEmpty(slides) && (\r\n                <div className=\"flex\">\r\n                    <div className=\"self-center p-2\">\r\n                        <BtnNav onClick={goPrev}><i className=\"icon-arrow-left22\"/></BtnNav>\r\n                    </div>\r\n                    <Swiper {...params} >\r\n                        {slides.map((s, k) => (\r\n                            <div key={k} className=\"swiper-item\">\r\n                                <div className={cx(\"timestamp\", {active: s.active})} onClick={e => onClick(k)}>\r\n                                    {s.value}\r\n                                </div>\r\n                                <Status active={s.active} over={s.over}><span onClick={e => onClick(k)}/></Status>\r\n                            </div>\r\n                        ))}\r\n                        <div className=\"swiper-item\">\r\n                            <div className=\"timestamp\"/>\r\n                            <Status/>\r\n                        </div>\r\n                    </Swiper>\r\n                    <div className=\"self-center p-2\">\r\n                        <BtnNav onClick={goNext}><i className=\"icon-arrow-right22\"/></BtnNav>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nexport default Timeline","import {hot} from 'react-hot-loader/root'\nimport {compose} from '@ttungbmt/redux.toolkit'\nimport React, {memo, useEffect, useState} from 'react'\nimport {Layout as LAYOUT} from \"@ttungbmt/react.layout\"\nimport {MapContainer, WMSTileLayer} from \"@ttungbmt/redux-leaflet\"\nimport Box from '@ttungbmt/react.ui.box'\nimport {FormControl, Nav, Form} from 'react-bootstrap'\nimport FormMain from './FormMain'\nimport MapContent from \"./MapContent\"\nimport StoreContext, {StoreProvider} from './contexts/store'\nimport Timeline from \"./components/Timeline\";\nimport MobileDetect from 'mobile-detect'\nimport {useWindowSize} from 'react-use'\n\n\nconst isMobile = (new MobileDetect(window.navigator.userAgent)).mobile()\n\nfunction App() {\n    const [loaded, setLoaded] = useState(false)\n    const [sbW, setSbW] = useState(380)\n    const Layout = LAYOUT.Map\n    const [arr, setArr] = useState({ value: 0, previous: 0 })\n    const {width} = useWindowSize()\n\n    const configLayout = {\n        aside: {\n            self: {\n                width: sbW\n            }\n        }\n    }\n\n    const onToggleSb = () => {\n        if(sbW === 0) {\n            setSbW(width)\n        } else {\n            setSbW(0)\n            setLoaded(false)\n            setTimeout(() => {\n                setLoaded(true)\n            }, 300)\n        }\n    }\n\n\n    useEffect(() => {\n        setTimeout(() => setLoaded(true), 200)\n\n        if(isMobile) setSbW(0)\n    }, [])\n\n    return (\n        <StoreProvider>\n            <div className=\"App\">\n                <Layout config={configLayout} >\n                    <div slot=\"header\" style={{height: '100%'}}>\n                        <Box flex height={1}>\n                            <Box flex width={380} contentBetween>\n                                <Layout.Brand title={`Quản lý Hạn hán`} />\n                                <button type=\"button\" className=\"cursor-pointer\"><i className=\"icon-paragraph-justify3\" onClick={onToggleSb}/></button>\n                            </Box>\n                            <Box flex contentBetween grow>\n                                <Box>\n                                    <Nav className=\"nav h-full content-center\">\n                                        <Nav.Link href=\"/admin/gallery\"><div className=\"font-bold\">CMS</div></Nav.Link>\n                                    </Nav>\n                                </Box>\n                            </Box>\n                        </Box>\n                    </div>\n                    <div slot=\"left-sidebar\">\n                        <FormMain />\n                    </div>\n                    <div slot=\"map-content\" style={{height: '100%'}}>\n                        <Timeline width={isMobile ? 300 : 800}/>\n                        {loaded && <MapContainer><MapContent /></MapContainer>}\n                    </div>\n                    <div slot=\"right-sidebar\">Right Sidebar</div>\n                    <div slot=\"footer\">Footer</div>\n                </Layout>\n\n            </div>\n        </StoreProvider>\n\n    );\n}\n\nexport default compose(hot, memo)(App)\n","import React, {StrictMode} from 'react'\nimport ReactDOM from 'react-dom'\nimport {serviceWorker} from '@ttungbmt/react.core'\nimport {Provider} from '@ttungbmt/redux.toolkit'\n\nimport store from './store'\nimport './styles/index.scss'\nimport App from './App'\n\n// const {PUBLIC_URL} = process.env\n\nReactDOM.render((\n        <StrictMode>\n            <Provider store={store}>\n                <App/>\n            </Provider>\n        </StrictMode>\n    ),\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","module.exports = L;"],"sourceRoot":""}